{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Admin Panel{% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/momo.css' %}">

    <style>
        .profile-pic {
            width: 50px;  /* Adjust as needed */
            height: 50px; /* Adjust as needed */
            border-radius: 50%; /* Circular image */
            margin-right: 10px; /* Space between the image and text */
        }
        .header-icons {
            display: flex;
            align-items: center;
        }
        .header-icons .icon {
            margin-left: 15px;
            cursor: pointer;
            font-size: 1.5rem;
        }
        .search-bar {
            margin-left: auto;
            display: flex;
            align-items: center;
        }
        .search-bar input {
            border-radius: 20px;
            border: 1px solid #ced4da;
            padding: 5px 15px;
            width: 200px;
        }
        /* Light Theme */
body.light-theme {
    background-color: #ffffff;
    color: #000000;
}

/* Dark Theme */
body.dark-theme {
    background-color: #333333;
    color: #ffffff;
}
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="dashboard-nav">
            <header>
                <a href="{% url 'admin_panel' %}" class="brand-logo animate__animated animate__fadeInLeft">
                    {% if user.profile_picture %}
                        <img src="{{ user.profile_picture.url }}" alt="{{ user.username }}'s profile picture" class="profile-pic" />
                    {% else %}
                        <img src="{% static 'img/yvan.jpg' %}" alt="Default Avatar" class="profile-pic" />
                    {% endif %}
                    <span>{{ user.username }}'s Panel</span>
                </a>
            </header>
            <nav class="dashboard-nav-list">
                <a href="{% url 'admin_panel' %}" class="dashboard-nav-item"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                <a href="{% url 'manage_users' %}" class="dashboard-nav-item"><i class="fas fa-users-cog"></i> Manage Users</a>
                <a href="{% url 'manage_documents' %}" class="dashboard-nav-item"><i class="fas fa-file-upload"></i> Manage Documents</a>
                <a href="{% url 'contact_messages' %}" class="dashboard-nav-item"><i class="fas fa-envelope"></i> Manage Contact</a>
                <a href="{% url 'analyse' %}" class="dashboard-nav-item"><i class="fas fa-chart-pie"></i> Analyze</a>
                <a href="{% url 'admin_communications' %}" class="dashboard-nav-item"><i class="fas fa-comments"></i> Communications</a>
                <a href="{% url 'map' %}" class="dashboard-nav-item"><i class="fas fa-map-marker-alt"></i> Map</a>
                <a href="{% url 'about_us' %}" class="dashboard-nav-item"><i class="fas fa-info-circle"></i> About Us</a>
                <a href="#" class="dashboard-nav-item"><i class="fas fa-cogs"></i> General Settings</a>
                <a href="{% url 'logout' %}" class="dashboard-nav-item"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </nav>
        </div>
        <main class="dashboard-app">
            <header class="dashboard-toolbar">
                <a href="#!" class="menu-toggle"><i class="fas fa-bars"></i></a>
                <div class="header-icons">
                    <i class="fas fa-globe icon" title="Change Language" onclick="toggleLanguage()"></i>
                    <i class="fas fa-paint-brush icon" title="Change Theme" onclick="toggleTheme()"></i>
                    <div class="search-bar">
                        <input type="text" placeholder="Search..." aria-label="Search" />
                        <button class="btn btn-outline-secondary" type="button"><i class="fas fa-search"></i></button>
                    </div>
                </div>
            </header>
            
            <div class="dashboard-content">
                <div class="container">
                    {% block content %}{% endblock %}
                </div>
            </div>
        </main>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="{% static 'js/momo.js' %}"></script>
    <script>
        let currentLanguage = 'en'; // Default language
        let currentTheme = 'light';  // Default theme
        
        function toggleLanguage() {
            if (currentLanguage === 'en') {
                currentLanguage = 'fr';
                // Change language in your application
                document.body.setAttribute('lang', 'fr');
                // Optionally, update text content or reload page with new language
            } else {
                currentLanguage = 'en';
                document.body.setAttribute('lang', 'en');
            }
            // Here you can trigger a refresh or update the text dynamically
        }
        
        function toggleTheme() {
            if (currentTheme === 'light') {
                currentTheme = 'dark';
                document.body.classList.add('dark-theme');
                document.body.classList.remove('light-theme');
            } else {
                currentTheme = 'light';
                document.body.classList.add('light-theme');
                document.body.classList.remove('dark-theme');
            }
        }
        
        // Apply initial theme class
        document.addEventListener('DOMContentLoaded', () => {
            document.body.classList.add(currentTheme === 'light' ? 'light-theme' : 'dark-theme');
        });
        </script>
</body>
</html>