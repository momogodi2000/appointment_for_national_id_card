{% extends 'panel/base_page/base_admin.html' %}

{% block title %}National ID Admin Panel - Cameroon{% endblock %}

{% block content %}
<div class="p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold text-gray-800 dark:text-white mb-6">Welcome to the National ID Admin Panel</h1>
    <p class="text-gray-600 dark:text-gray-300 mb-8">Manage users, appointments, documents, and settings for the National ID Card Delivery System in Cameroon.</p>

    <!-- Quick Stats -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="bg-blue-100 dark:bg-blue-800 p-4 rounded-lg shadow-md transition-transform duration-300 hover:scale-105">
            <h3 class="text-lg font-semibold text-blue-800 dark:text-blue-200">Total Users</h3>
            <p class="text-3xl font-bold text-blue-600 dark:text-blue-300">{{ user_count }}</p>
        </div>
        <div class="bg-green-100 dark:bg-green-800 p-4 rounded-lg shadow-md transition-transform duration-300 hover:scale-105">
            <h3 class="text-lg font-semibold text-green-800 dark:text-green-200">Pending Appointments</h3>
            <p class="text-3xl font-bold text-green-600 dark:text-green-300">{{ appointment_count }}</p>
        </div>
        <div class="bg-yellow-100 dark:bg-yellow-800 p-4 rounded-lg shadow-md transition-transform duration-300 hover:scale-105">
            <h3 class="text-lg font-semibold text-yellow-800 dark:text-yellow-200">Documents Processed</h3>
            <p class="text-3xl font-bold text-yellow-600 dark:text-yellow-300">{{ document_count }}</p>
        </div>
        <div class="bg-red-100 dark:bg-red-800 p-4 rounded-lg shadow-md transition-transform duration-300 hover:scale-105">
            <h3 class="text-lg font-semibold text-red-800 dark:text-red-200">Missing ID Reports</h3>
            <p class="text-3xl font-bold text-red-600 dark:text-red-300">{{ missing_id_card_count }}</p>
        </div>
    </div>

    <!-- Management Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl">
            <div class="flex items-center mb-4">
                <i class="fas fa-user-cog text-3xl text-blue-500 mr-4"></i>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-white">User Management</h2>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-4">Manage user accounts, roles, and permissions.</p>
            <a href="{% url 'user_information' %}" class="inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors duration-300">Manage Users</a>
        </div>
        <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl">
            <div class="flex items-center mb-4">
                <i class="fas fa-calendar-check text-3xl text-green-500 mr-4"></i>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-white">Appointment Scheduling</h2>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-4">View and manage ID card application appointments.</p>
            <a href="{% url 'view_detail_admin' model_name='appointment' %}" class="inline-block bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors duration-300">Manage Appointments</a>
        </div>
        <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl">
            <div class="flex items-center mb-4">
                <i class="fas fa-file-alt text-3xl text-yellow-500 mr-4"></i>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-white">Document Processing</h2>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-4">Review and process submitted documents for ID applications.</p>
            <a href="{% url 'view_detail_admin' model_name='document' %}" class="inline-block bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition-colors duration-300">Process Documents</a>
        </div>
        <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl">
            <div class="flex items-center mb-4">
                <i class="fas fa-map-marked-alt text-3xl text-purple-500 mr-4"></i>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-white">Office Locations</h2>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-4">Manage ID card issuance office locations across Cameroon.</p>
            <a href="{% url 'view_detail_admin' model_name='office' %}" class="inline-block bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition-colors duration-300">Manage Offices</a>
        </div>
        <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl">
            <div class="flex items-center mb-4">
                <i class="fas fa-bell text-3xl text-indigo-500 mr-4"></i>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-white">Notifications</h2>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-4">Send and manage system notifications to users.</p>
            <a href="{% url 'view_detail_admin' model_name='notification' %}" class="inline-block bg-indigo-500 text-white px-4 py-2 rounded hover:bg-indigo-600 transition-colors duration-300">Manage Notifications</a>
        </div>
        <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-xl">
            <div class="flex items-center mb-4">
                <i class="fas fa-chart-line text-3xl text-pink-500 mr-4"></i>
                <h2 class="text-xl font-semibold text-gray-800 dark:text-white">Analytics</h2>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-4">View system analytics and generate reports.</p>
            <a href="#" class="inline-block bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 transition-colors duration-300">View Analytics</a>
        </div>
    </div>

    <!-- Statistics Graph -->
    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg">
        <h2 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">System Overview</h2>
        <canvas id="statisticsChart" width="400" height="200"></canvas>
    </div>
</div>

<!-- Include Chart.js Library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // Data for the chart
    const data = {
        labels: ['Users', 'Appointments', 'Documents', 'Missing ID Cards', 'Notifications', 'Communications', 'Offices'],
        datasets: [{
            label: 'Counts',
            data: [
                {{ user_count }},
                {{ appointment_count }},
                {{ document_count }},
                {{ missing_id_card_count }},
                {{ notification_count }},
                {{ communication_count }},
                {{ office_count }}
            ],
            backgroundColor: [
                'rgba(59, 130, 246, 0.6)',
                'rgba(16, 185, 129, 0.6)',
                'rgba(251, 191, 36, 0.6)',
                'rgba(239, 68, 68, 0.6)',
                'rgba(99, 102, 241, 0.6)',
                'rgba(236, 72, 153, 0.6)',
                'rgba(139, 92, 246, 0.6)'
            ],
            borderColor: [
                'rgba(59, 130, 246, 1)',
                'rgba(16, 185, 129, 1)',
                'rgba(251, 191, 36, 1)',
                'rgba(239, 68, 68, 1)',
                'rgba(99, 102, 241, 1)',
                'rgba(236, 72, 153, 1)',
                'rgba(139, 92, 246, 1)'
            ],
            borderWidth: 1
        }]
    };

    // Configuration for the chart
    const config = {
        type: 'bar',
        data: data,
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: false,
                },
                title: {
                    display: true,
                    text: 'National ID System Statistics',
                    font: {
                        size: 16
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        },
    };

    // Render the chart
    const statisticsChart = new Chart(
        document.getElementById('statisticsChart'),
        config
    );
</script>

{% endblock %}