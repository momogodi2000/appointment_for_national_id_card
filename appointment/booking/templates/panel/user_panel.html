{% extends 'panel/base_page/base_user.html' %}

{% load static %}

{% block title %}National ID Booking Panel{% endblock %}

{% block styles %}
<style>
    /* Add styles for responsiveness and design improvements */
    body {
        font-family: 'Roboto', sans-serif;
    }
    .dashboard-content {
        margin: 20px;
    }
    .carousel-item img {
        object-fit: cover;
        height: 400px;
    }
    .stat-box {
        margin-top: 20px;
    }
    #geolocation {
        margin-top: 40px;
    }
    #map {
        height: 400px;
        background-color: lightgray;
    }

    /* Table Styling */
    .table-container {
        margin-top: 40px;
    }
    .table-responsive {
        max-width: 100%;
        overflow-x: auto;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }
    table, th, td {
        border: 1px solid #ddd;
        padding: 8px;
    }
    th {
        background-color: #4CAF50;
        color: white;
        text-align: center;
    }
    td {
        text-align: center;
    }

    /* Responsiveness */
    @media (max-width: 768px) {
        .carousel-item img {
            height: 200px;
        }
        .stat-box {
            margin-bottom: 20px;
        }
        #map {
            height: 300px;
        }
        table {
            font-size: 12px;
        }
    }
</style>
{% endblock %}

{% block content %}
<body>
    <div class="dashboard-content">
        <div class="header text-center">
            <h1 class="animate__animated animate__fadeInRight">Welcome, {{ user.username }}!</h1>
            <p class="animate__animated animate__fadeInRight">Manage your appointments, upload documents, and track your application status below.</p>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons text-center mb-4">
            <button class="btn btn-primary animate__animated animate__zoomIn">Book Appointment</button>
            <button class="btn btn-success animate__animated animate__zoomIn">Upload Documents</button>
            <button class="btn btn-info animate__animated animate__zoomIn">Track Application</button>
        </div>

        <!-- Image Slider (Carousel) -->
        <div id="carouselExampleIndicators" class="carousel slide animate__animated animate__fadeInDown" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'card/card.jpeg' %}" class="d-block w-100" alt="National ID Process">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Step 1: Start the Process</h5>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static 'card/card1.jpeg' %}" class="d-block w-100" alt="Waiting for Appointment">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Step 2: Wait for Your Appointment</h5>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static 'card/ID-cards.jpg' %}" class="d-block w-100" alt="Issuing National ID Card">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Step 3: Collect Your National ID Card</h5>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>

        <!-- Statistics Boxes -->
        <div class="row mb-4 stat-box">
            <div class="col-md-4">
                <div class="card text-white bg-primary mb-3 animate__animated animate__fadeInLeft animate-box">
                    <div class="card-header">Cameroon Population</div>
                    <div class="card-body">
                        <h5 class="card-title">Estimated Population</h5>
                        <p class="card-text">Approx. 27 million</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-white bg-success mb-3 animate__animated animate__fadeInUp animate-box">
                    <div class="card-header">National ID Card Holders</div>
                    <div class="card-body">
                        <h5 class="card-title">Citizens with ID Cards</h5>
                        <p class="card-text">Around 45%</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-white bg-warning mb-3 animate__animated animate__fadeInRight animate-box">
                    <div class="card-header">Administrative Divisions</div>
                    <div class="card-body">
                        <h5 class="card-title">Regions, Communes, Villages</h5>
                        <p class="card-text">Regions: 10<br>Communes: Thousands<br>Villages: Numerous</p>
                        <small>For accurate statistics, consult NISEE, UN Population Division, or World Bank.</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Table for DGSN and Resource Statistics -->
        <div class="table-container">
            <h2 class="text-center animate__animated animate__fadeInUp">Cameroon DGSN Services & National Resources</h2>
            <div class="table-responsive animate__animated animate__fadeInUp">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Service/Resource</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Number of Police Stations</td>
                            <td>500+</td>
                        </tr>
                        <tr>
                            <td>Number of Regions</td>
                            <td>10</td>
                        </tr>
                        <tr>
                            <td>Rural Sectors</td>
                            <td>Thousands</td>
                        </tr>
                        <tr>
                            <td>Urban Sectors</td>
                            <td>Hundreds</td>
                        </tr>
                        <tr>
                            <td>Natural Resources</td>
                            <td>Oil, Timber, Coffee, Cocoa, Iron Ore</td>
                        </tr>
                        <tr>
                            <td>Ethnic Diversity</td>
                            <td>250+ Ethnic Groups</td>
                        </tr>
                        <tr>
                            <td>Languages Spoken</td>
                            <td>Over 280 local languages</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Geolocation Section for Police Stations -->
        <section id="geolocation" class="animate__animated animate__fadeInUp">
            <h2 class="text-center">Nearby Police Stations</h2>
            <p class="text-center">Find the closest police station to complete your National ID process.</p>
            <div id="map"></div>
        </section>
    </div>
</body>
{% endblock %}

{% block scripts %}
<script>
    // JavaScript for map and interactivity
    // Initialize map here

    // Add some animation for table rows
    document.querySelectorAll('table tbody tr').forEach((row, index) => {
        setTimeout(() => {
            row.classList.add('animate__animated', 'animate__fadeInUp');
        }, index * 150);  // Delay each row by 150ms
    });
</script>
{% endblock %}
